<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>WebAssembly Tables · WasmtimeRuntime.jl</title><meta name="title" content="WebAssembly Tables · WasmtimeRuntime.jl"/><meta property="og:title" content="WebAssembly Tables · WasmtimeRuntime.jl"/><meta property="twitter:title" content="WebAssembly Tables · WasmtimeRuntime.jl"/><meta name="description" content="Documentation for WasmtimeRuntime.jl."/><meta property="og:description" content="Documentation for WasmtimeRuntime.jl."/><meta property="twitter:description" content="Documentation for WasmtimeRuntime.jl."/><meta property="og:url" content="https://damourChris.github.io/WasmtimeRuntime.jl/52-tables/"/><meta property="twitter:url" content="https://damourChris.github.io/WasmtimeRuntime.jl/52-tables/"/><link rel="canonical" href="https://damourChris.github.io/WasmtimeRuntime.jl/52-tables/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">WasmtimeRuntime.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">WasmtimeRuntime</a></li><li><a class="tocitem" href="../21-generic-vectors/">Generic Vector Wrapper (<code>WasmVec</code>)</a></li><li><a class="tocitem" href="../40-instances/">WebAssembly Instances</a></li><li><a class="tocitem" href="../50-functions/">Function Calling and Type Conversion</a></li><li><a class="tocitem" href="../51-memory/">WebAssembly Memory</a></li><li class="is-active"><a class="tocitem" href>WebAssembly Tables</a><ul class="internal"><li><a class="tocitem" href="#Table-Types"><span>Table Types</span></a></li><li><a class="tocitem" href="#Creating-Tables"><span>Creating Tables</span></a></li><li><a class="tocitem" href="#Table-Interface"><span>Table Interface</span></a></li><li><a class="tocitem" href="#Type-Information"><span>Type Information</span></a></li><li><a class="tocitem" href="#Error-Handling"><span>Error Handling</span></a></li><li><a class="tocitem" href="#Advanced-Usage"><span>Advanced Usage</span></a></li><li><a class="tocitem" href="#Integration-with-WebAssembly-Modules"><span>Integration with WebAssembly Modules</span></a></li><li><a class="tocitem" href="#Type-System-Integration"><span>Type System Integration</span></a></li><li><a class="tocitem" href="#Best-Practices"><span>Best Practices</span></a></li></ul></li><li><a class="tocitem" href="../53-global/">WebAssembly Global Variables</a></li><li><a class="tocitem" href="../54-externs/">WebAssembly Externs</a></li><li><a class="tocitem" href="../55-exports/">WebAssembly Exports</a></li><li><a class="tocitem" href="../71-traps/">WebAssembly Traps</a></li><li><a class="tocitem" href="../81-conversions/">Conversion</a></li><li><a class="tocitem" href="../90-contributing/">Contributing guidelines</a></li><li><a class="tocitem" href="../91-developer/">Developer documentation</a></li><li><a class="tocitem" href="../95-reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>WebAssembly Tables</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>WebAssembly Tables</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/damourChris/WasmtimeRuntime.jl/blob/main/docs/src/52-tables.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="WebAssembly-Tables"><a class="docs-heading-anchor" href="#WebAssembly-Tables">WebAssembly Tables</a><a id="WebAssembly-Tables-1"></a><a class="docs-heading-anchor-permalink" href="#WebAssembly-Tables" title="Permalink"></a></h1><p>WebAssembly tables are resizable arrays that hold references to functions or other WebAssembly objects. In WasmtimeRuntime.jl, tables are represented by the <code>WasmTable</code> type, which provides a Julia-friendly interface for working with WebAssembly table objects.</p><h2 id="Table-Types"><a class="docs-heading-anchor" href="#Table-Types">Table Types</a><a id="Table-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Table-Types" title="Permalink"></a></h2><h3 id="WasmTableType"><a class="docs-heading-anchor" href="#WasmTableType">WasmTableType</a><a id="WasmTableType-1"></a><a class="docs-heading-anchor-permalink" href="#WasmTableType" title="Permalink"></a></h3><p>The <code>WasmTableType</code> represents the type information for a WebAssembly table, including its size limits and element type.</p><pre><code class="language-julia hljs"># Create a table type with default limits (0 =&gt; 0)
table_type = WasmTableType()

# Create a table type with custom limits
table_type = WasmTableType(10 =&gt; 100)  # min=10, max=100

# Create from WasmLimits
limits = WasmLimits(5, 50)
table_type = WasmTableType(limits)</code></pre><h4 id="Size-Limits"><a class="docs-heading-anchor" href="#Size-Limits">Size Limits</a><a id="Size-Limits-1"></a><a class="docs-heading-anchor-permalink" href="#Size-Limits" title="Permalink"></a></h4><p>Table limits specify the minimum and maximum number of elements:</p><ul><li><strong>Minimum</strong>: Initial number of elements (must be ≥ 0)</li><li><strong>Maximum</strong>: Maximum number of elements (0 means unlimited)</li></ul><pre><code class="language-julia hljs"># Table with 5 initial elements, max 20
table_type = WasmTableType(5 =&gt; 20)

# Table with 10 initial elements, unlimited growth
table_type = WasmTableType(10 =&gt; 0)

# Empty table that can grow up to 100 elements
table_type = WasmTableType(0 =&gt; 100)</code></pre><h2 id="Creating-Tables"><a class="docs-heading-anchor" href="#Creating-Tables">Creating Tables</a><a id="Creating-Tables-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-Tables" title="Permalink"></a></h2><p>Tables are created using a <code>WasmStore</code> and <code>WasmTableType</code>:</p><pre><code class="language-julia hljs"># Set up WebAssembly environment
engine = WasmEngine()
store = WasmStore(engine)

# Create table type and table
table_type = WasmTableType(5 =&gt; 50)
table = WasmTable(store, table_type)</code></pre><h2 id="Table-Interface"><a class="docs-heading-anchor" href="#Table-Interface">Table Interface</a><a id="Table-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Table-Interface" title="Permalink"></a></h2><p><code>WasmTable</code> implements the <code>AbstractVector</code> interface, providing familiar array-like operations:</p><h3 id="Size-and-Indexing"><a class="docs-heading-anchor" href="#Size-and-Indexing">Size and Indexing</a><a id="Size-and-Indexing-1"></a><a class="docs-heading-anchor-permalink" href="#Size-and-Indexing" title="Permalink"></a></h3><pre><code class="language-julia hljs"># Get table size
table_size = length(table)
size_tuple = size(table)  # Returns (length,)

# Access elements (1-based indexing)
first_element = table[1]
last_element = table[end]

# Check bounds
if length(table) &gt; 0
    element = table[1]  # Safe access
end</code></pre><h3 id="Element-Access"><a class="docs-heading-anchor" href="#Element-Access">Element Access</a><a id="Element-Access-1"></a><a class="docs-heading-anchor-permalink" href="#Element-Access" title="Permalink"></a></h3><p>Table elements are function references or other WebAssembly references:</p><pre><code class="language-julia hljs"># Access table element
element = table[1]

if element === nothing
    println(&quot;Slot is empty&quot;)
else
    println(&quot;Slot contains a reference&quot;)
    # element is a Ptr{LibWasmtime.wasm_ref_t}
end</code></pre><h2 id="Type-Information"><a class="docs-heading-anchor" href="#Type-Information">Type Information</a><a id="Type-Information-1"></a><a class="docs-heading-anchor-permalink" href="#Type-Information" title="Permalink"></a></h2><p>Extract type information from existing tables:</p><pre><code class="language-julia hljs"># Get table type from table
extracted_type = WasmTableType(table)</code></pre><h2 id="Error-Handling"><a class="docs-heading-anchor" href="#Error-Handling">Error Handling</a><a id="Error-Handling-1"></a><a class="docs-heading-anchor-permalink" href="#Error-Handling" title="Permalink"></a></h2><p>Common error scenarios and how to handle them:</p><h3 id="Invalid-Store"><a class="docs-heading-anchor" href="#Invalid-Store">Invalid Store</a><a id="Invalid-Store-1"></a><a class="docs-heading-anchor-permalink" href="#Invalid-Store" title="Permalink"></a></h3><pre><code class="language-julia hljs">engine = WasmEngine()
store = WasmStore(engine)
store.ptr = C_NULL  # Invalidate store

table_type = WasmTableType()

# This will throw ArgumentError
try
    table = WasmTable(store, table_type)
catch e
    println(&quot;Failed to create table: &quot;, e)
end</code></pre><h3 id="Bounds-Checking"><a class="docs-heading-anchor" href="#Bounds-Checking">Bounds Checking</a><a id="Bounds-Checking-1"></a><a class="docs-heading-anchor-permalink" href="#Bounds-Checking" title="Permalink"></a></h3><pre><code class="language-julia hljs">table_type = WasmTableType(3 =&gt; 10)
table = WasmTable(store, table_type)

# These will throw BoundsError
try
    table[0]     # Invalid: 0-based indexing
    table[-1]    # Invalid: negative index
    table[100]   # Invalid: beyond table size
catch BoundsError
    println(&quot;Index out of bounds&quot;)
end</code></pre><h3 id="Invalid-Limits"><a class="docs-heading-anchor" href="#Invalid-Limits">Invalid Limits</a><a id="Invalid-Limits-1"></a><a class="docs-heading-anchor-permalink" href="#Invalid-Limits" title="Permalink"></a></h3><pre><code class="language-julia hljs">
try
    invalid_limits = WasmLimits(10, 5)  # max &lt; min &lt;---  This will throw ArgumentError
    table_type = WasmTableType(invalid_limits)
catch ArgumentError
    println(&quot;Invalid table limits&quot;)
end</code></pre><h2 id="Advanced-Usage"><a class="docs-heading-anchor" href="#Advanced-Usage">Advanced Usage</a><a id="Advanced-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Usage" title="Permalink"></a></h2><h3 id="Working-with-Multiple-Tables"><a class="docs-heading-anchor" href="#Working-with-Multiple-Tables">Working with Multiple Tables</a><a id="Working-with-Multiple-Tables-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-Multiple-Tables" title="Permalink"></a></h3><pre><code class="language-julia hljs">engine = WasmEngine()
store = WasmStore(engine)

# Create multiple tables with different sizes
small_table = WasmTable(store, WasmTableType(2 =&gt; 10))
large_table = WasmTable(store, WasmTableType(50 =&gt; 1000))

println(&quot;Small table size: &quot;, length(small_table))
println(&quot;Large table size: &quot;, length(large_table))</code></pre><h3 id="Resource-Management"><a class="docs-heading-anchor" href="#Resource-Management">Resource Management</a><a id="Resource-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Resource-Management" title="Permalink"></a></h3><p>Tables are automatically cleaned up when they go out of scope:</p><pre><code class="language-julia hljs">function create_temporary_table()
    engine = WasmEngine()
    store = WasmStore(engine)
    table_type = WasmTableType(5 =&gt; 20)
    table = WasmTable(store, table_type)

    # Use table...
    return length(table)
end

size = create_temporary_table()
# Table is automatically cleaned up when function exits</code></pre><h3 id="Performance-Considerations"><a class="docs-heading-anchor" href="#Performance-Considerations">Performance Considerations</a><a id="Performance-Considerations-1"></a><a class="docs-heading-anchor-permalink" href="#Performance-Considerations" title="Permalink"></a></h3><p>For optimal performance:</p><ol><li><strong>Reuse stores</strong>: Create one store and use it for multiple tables</li><li><strong>Appropriate sizing</strong>: Set realistic minimum and maximum limits</li><li><strong>Avoid frequent type extraction</strong>: Cache <code>WasmTableType</code> objects when needed</li></ol><pre><code class="language-julia hljs">engine = WasmEngine()
store = WasmStore(engine)  # Reuse this store

# Create multiple tables efficiently
tables = [WasmTable(store, WasmTableType(i =&gt; i*10)) for i in 1:5]</code></pre><h2 id="Integration-with-WebAssembly-Modules"><a class="docs-heading-anchor" href="#Integration-with-WebAssembly-Modules">Integration with WebAssembly Modules</a><a id="Integration-with-WebAssembly-Modules-1"></a><a class="docs-heading-anchor-permalink" href="#Integration-with-WebAssembly-Modules" title="Permalink"></a></h2><p>Tables are typically used with WebAssembly modules that export or import table objects:</p><pre><code class="language-julia hljs"># Example: working with a module that uses tables
engine = WasmEngine()
store = WasmStore(engine)

# Create table for module
table_type = WasmTableType(10 =&gt; 100)
table = WasmTable(store, table_type)

# Table can be passed to module instantiation
# (specific module loading code would depend on your WebAssembly module)</code></pre><h2 id="Type-System-Integration"><a class="docs-heading-anchor" href="#Type-System-Integration">Type System Integration</a><a id="Type-System-Integration-1"></a><a class="docs-heading-anchor-permalink" href="#Type-System-Integration" title="Permalink"></a></h2><p><code>WasmTable</code> integrates well with Julia&#39;s type system:</p><pre><code class="language-julia hljs">table = WasmTable(store, WasmTableType(5 =&gt; 20))

# Type checking
@assert table isa AbstractVector
@assert eltype(table) == Union{Nothing, Ptr{LibWasmtime.wasm_ref_t}}

# Standard vector operations
@assert ndims(table) == 1
@assert firstindex(table) == 1</code></pre><h2 id="Best-Practices"><a class="docs-heading-anchor" href="#Best-Practices">Best Practices</a><a id="Best-Practices-1"></a><a class="docs-heading-anchor-permalink" href="#Best-Practices" title="Permalink"></a></h2><ol><li><strong>Validate inputs</strong>: Always check that stores and table types are valid</li><li><strong>Handle bounds</strong>: Use proper bounds checking when accessing elements</li><li><strong>Resource cleanup</strong>: Let Julia&#39;s garbage collector handle cleanup automatically</li><li><strong>Error handling</strong>: Wrap table operations in try-catch blocks for robustness</li></ol><pre><code class="language-julia hljs">function safe_table_access(table, index)
    try
        if index in 1:length(table)
            return table[index]
        else
            @warn &quot;Index $index out of bounds for table of size $(length(table))&quot;
            return nothing
        end
    catch e
        @error &quot;Error accessing table: $e&quot;
        return nothing
    end
end</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../51-memory/">« WebAssembly Memory</a><a class="docs-footer-nextpage" href="../53-global/">WebAssembly Global Variables »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Sunday 6 July 2025 14:44">Sunday 6 July 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
